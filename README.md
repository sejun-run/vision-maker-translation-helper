# 비전메이커 번역 도우미

월드비전 비전메이커 번역봉사단의 편지 번역을 돕는 크롬 확장 프로그램입니다.

--월드비전의 서신 시스템 리뉴얼 계획으로 업데이트가 중단되었습니다(25.07.11)--

## 주요 기능

- **편지 템플릿 생성**: 편지 유형과 작성자 유형에 따라 맞춤형 편지 템플릿을 자동으로 생성합니다
- **자동 평가**: 편지를 자동으로 3점으로 평가합니다 (이후에 평가를 수정할 수 있습니다)
- **팝업을 탭으로 변환**: 더 나은 사용자 경험을 위해 팝업 창을 새 탭으로 변환합니다

## 설치 방법

1. 이 저장소를 복제하거나 다운로드합니다
2. 크롬을 열고 `chrome://extensions/`로 이동합니다
3. 오른쪽 상단의 "개발자 모드"를 활성화합니다
4. "압축해제된 확장 프로그램을 로드합니다"를 클릭하고 확장 프로그램 폴더를 선택합니다
5. 확장 프로그램이 도구 모음에 나타납니다

## 사용 방법

### 자동 활성화
- 비전메이커 마이페이지에서 편지 번역하기를 누르면 탭이 열리면서 도우미가 자동으로 활성화됩니다
  
### 플로팅 버튼
- 편지 번역 페이지 우측 하단에 항상 보이는 주황색 원형 버튼을 클릭합니다

### 다른 방법들
- 단축키: `Alt+Shift+V` 
- 크롬 도구 모음의 비전메이커 번역 도우미 아이콘을 클릭합니다 


### 편지 템플릿 생성
1. 편지 유형을 선택합니다 (손도장, 초상화, 또는 기타)
2. 작성자 유형을 선택합니다 (아동, 익명 도우미, 또는 이름이 있는 도우미)
3. "템플릿 생성하기"를 클릭하여 템플릿을 생성하고 삽입합니다

## 프로젝트 구조

```
비전메이커 번역 도우미/
├── manifest.json           # 확장 프로그램 매니페스트
├── config.js              # 구성 상수
├── utils.js               # 유틸리티 함수
├── letter-templates.js    # 편지 템플릿 생성
├── ui-components.js       # 사용자 인터페이스 관리
├── auto-rating.js         # 자동 평가 기능
├── popup-to-tab.js        # 팝업을 탭으로 변환
├── content.js             # 메인 콘텐츠 스크립트
├── background.js          # 백그라운드 서비스 워커
├── VM_logo.png           # 확장 프로그램 로고
└── README.md             # 이 파일
```

## 아키텍처

이 확장 프로그램은 더 나은 유지보수를 위해 모듈형 아키텍처로 구축되었습니다:

### 핵심 모듈

- **VMHelper**: 모든 기능을 조정하는 메인 오케스트레이터 클래스
- **UIManager**: 사용자 인터페이스 생성 및 상호작용 처리
- **LetterTemplateGenerator**: 맞춤형 편지 템플릿 생성
- **AutoRatingManager**: 자동 서비스 평가 관리
- **BackgroundManager**: 확장 프로그램 백그라운드 기능 처리

### 유틸리티 모듈

- **VM_CONFIG**: 모든 설정과 상수를 위한 중앙 구성
- **DOMUtils**: DOM 조작 및 쿼리 유틸리티
- **StringUtils**: 문자열 처리 및 검증 유틸리티
- **AnimationUtils**: CSS 애니메이션 및 전환 도우미
- **ErrorUtils**: 오류 처리 및 로깅 유틸리티
- **ChromeUtils**: 크롬 확장 프로그램 API 도우미

## 구성

`config.js`에서 주요 구성을 수정할 수 있습니다:

- **대상 도메인**: `URLS.TARGET_DOMAIN`
- **DOM 선택자**: `SELECTORS` 객체
- **UI 위치**: `UI.HELPER_POSITION`
- **애니메이션 타이밍**: `TIMING` 객체
- **색상 체계**: `UI.COLORS` 객체

## 개발

### 새로운 편지 유형 추가

1. `config.js`의 `VM_CONFIG.LETTER_TYPES`에 새로운 유형을 추가합니다
2. `LetterTemplateGenerator`에서 템플릿 구성을 업데이트합니다
3. `UIManager.getContainerHTML()`에서 UI 표현을 추가합니다

### 새로운 작성자 유형 추가

1. `config.js`의 `VM_CONFIG.AUTHOR_TYPES`에 새로운 유형을 추가합니다
2. `LetterTemplateGenerator.helperStatements`에서 도우미 문구를 업데이트합니다
3. `UIManager.getContainerHTML()`에서 UI 표현을 추가합니다

### 선택자 수정

DOM 타겟팅을 변경하려면 `config.js`의 `SELECTORS` 객체를 업데이트합니다:

```javascript
SELECTORS: {
  TRANSLATION_TEXTAREA: '#letter_1thcont',
  KOREAN_NAME: '#popupWrap > div > div > table:nth-child(1) > tbody > tr:nth-child(3) > td:nth-child(2)',
  // ... 기타 선택자
}
```

## 오류 처리

확장 프로그램은 포괄적인 오류 처리를 포함합니다:

- **DOM 선택**: 대체 방법이 있는 안전한 쿼리
- **템플릿 생성**: 입력 검증 및 오류 메시지
- **네트워크 작업**: 재시도 로직 및 점진적 저하
- **사용자 피드백**: 토스트 알림 및 명확한 오류 메시지

## 브라우저 호환성

- Chrome 88+ (Manifest V3 지원 필요)
- Edge 88+ (Chromium 기반)

## 라이선스

이 프로젝트는 한국 월드비전 봉사자들의 내부 사용을 위한 것입니다.

## 변경 이력

### 버전 1.0
- 모듈형 아키텍처로 초기 릴리스
- 편지 템플릿 생성
- 자동 평가 기능
- 팝업을 탭으로 변환
- 페이지 내 플로팅 버튼
- 모던 반응형 UI

## 기여하기

이 프로젝트에 기여할 때:

1. 기존 코드 스타일과 아키텍처를 따릅니다
2. 적절한 오류 처리를 추가합니다
3. 하드코딩된 값 대신 `config.js`에서 구성을 업데이트합니다
4. 영어로 설명적인 주석을 작성합니다
5. 대상 웹사이트에서 철저히 테스트합니다

## 지원

문제나 질문이 있으면 콘솔에서 오류 메시지를 확인하고 다음을 확인하세요:

1. 확장 프로그램이 활성화되어 있고 최신 버전인지
2. 올바른 월드비전 도메인에 있는지
3. DOM 선택자가 여전히 유효한지 (웹사이트 변경으로 업데이트가 필요할 수 있음)
4. 크롬 확장 프로그램 권한이 부여되었는지
